# ローディングが20%で止まる

## 発生した現象

ロードが20%で止まる。
ロードが停止した際に特にコンソールにメッセージは表示されない。
ネットワークタブを見る限り、guideframe.pngのロードを最後に止まっている。
本来であれば、その次にアバターファイルのpng.hrmが読み込まれるはずだが、
読み込みが開始すらしていない。

## 確認手順

### ①既存のエラー表示の調査

既存のエラーが原因でローディングが中止され、エラー表示すら出ずにロードされないと考えられる。
したがって、正常に読み込めているローカル環境と読み込めないtest2環境でエラー表示の差分を確認する。

しかし、エラー表示に差分がない事がわかる。
したがって、既存のエラー表示がローディングを阻害しているとは考え難い。

### ②アバターファイル_png.hrmの出処調査

アバターファイルはシーンjsonから読み込まれている。
シーンjsonの読み込みが上手く行っていない可能性が第1に考えられる。

しかし、guideframe.pngもシーンjsonで読み込まれるファイルである(クリックガイドの画像)。
また、ネットワークタブでシーンjson自体は読み込めていることは確認できる。

したがって、シーンjson内におかしい部分があるため、エラーにもならず読み込みも出来ない状態になっていると考えられる。

### ③シーンjsonの差分調査

正常に読み込めているローカル環境と読み込めないtest2環境でシーンjsonに差分があると考えられる。
そこで、test2環境のネットワークタブからtest2環境にあがっているシーンjsonをダウンロードし、ローカル環境のシーンjsonとの比較を行う(上書きしてGitHubDesktopの差分表示で確認するのが早い)。

結果、heoオブジェクトの読み込み先ファイルパスが異なることが分かった。

### ④heoオブジェクト読み込み先ファイルパスの調査

heoオブジェクト読み込み先ファイルパスにおかしい点がある場合、それが原因と考えられる。
heoオブジェクトのあるディレクトリのtex_sampleを確認すると、画像の名称に半角スペースが入っており、テクスチャ圧縮が上手く行っていないことが判明した。

したがって、これが原因で読み込み不具合が発生しているのではないか、というところで調査を終了した。

## まとめ

- シーンjson内で読み込みが止まっている → シーンjson内のファイル読み込みに問題があると推察
- ローカル環境とtest2環境でそもそもシーンjsonの内容が違った
- 差分から読み込むファイルが異なることが分かる
- テクスチャ名に半角スペースがあるためファイルの圧縮テクスチャができていない
