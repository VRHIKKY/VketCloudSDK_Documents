# Version 15.0.0

## HeliodorLib(ブラウザで表示されるワールドで使われているエンジン)

### WebXR
- UIの見えかた（α等）を仕様書に合わせる
- UIウィンドウの表示位置を修正
- 左Xボタンでマイクをトグルする機能を追加
- QuestのBまたはYボタンでメニュー表示する機能を追加
- 右コントローラのAボタンにジャンプ機能を割り当てる
- コントローラによる回転を、45°ずつから連続回転に変更
- アイコンの位置と大きさを調整
- Questブラウザでのノイズ発生および動作の重さの問題を修正

### ロード高速化

#### 機能追加

##### アイテム複製機能
- アクティビティタイプのアイテム複製機能を追加
- アイテムが持つアクションの複製機能を追加
- 基礎実装およびObjectタイプのアイテム複製機能を実装
- HSの複製関数を利用可能に
- 同一Itemのインスタンス描画の最適化を実施

##### 低解像度テクスチャ作成
- 低解像度テクスチャ使用フラグをHEOに組み込む変更を実施
- 低解像度テクスチャパック機能を追加

##### draco圧縮機能
- DRACO圧縮に対応
- グローバルおよびゲームオブジェクト単位でのdraco圧縮設定を追加

### UI

#### 機能調整
- SNS共有ボタンの位置を調整
- 調整バー（スライダー）の横にスライド量（例：音量）を表示するように変更
- タッチパッドの当たり判定を、スティック画像ではなくベースに変更
- テキストチャットのミニウィンドウの背景を、ボタンからイメージに変更
- MyVket閉鎖に伴うインゲームUIの変更を実施
- その他、MyVket閉鎖に伴うUI調整を実施

#### 不具合修正
- マスターボリュームのミュート解除時にサウンド設定がリセットされる問題を修正
- スライダーのバーと丸の位置ずれを修正
- プリセットアバター時のアバタータイプ設定の問題を修正

### インタラクション
- エリアコライダーの当たり判定をカプセルに変更
- タブ復帰時にUVScrollが過剰に動作する問題を修正
- プレイヤーのカプセルコライダー内外のクリック動作の改善を実施
- プレイヤーのコライダー判定をカプセルに変更

### ネットワーク

#### 不具合修正
- ライブ配信時のプレゼンター用マイク不具合を修正
- ライブチャネル切断処理の改良を実施
- タブ復帰時に他ユーザーのMyAvatarが消える現象を修正
- ゲストユーザ名が空になる問題を修正
- FPS低下時に自動で低解像度モードへ切り替えるオプションを追加

### シーン設定

#### 新規機能追加
- シーンファイルでカメラ設定項目の初期値を設定可能に
- シーンファイル上でアイテム複製機能を利用できるように変更
- シーンにリアルタイムポイントライトを追加可能に

#### 不具合修正
- sceneファイル内で特定のテキスト要素使用時に発生するビルドエラーを修正
- WebGL1使用時のポイントライトシェーダー周りのビルドエラーを解消

### パーティクルエディタ

#### 新規機能追加
- Rate over Timeのカーブ指定機能を追加
- ランダムカラー機能を実装
- カラータイプの保存・読み込み機能（バージョンアップ対応）を追加
- Start Positionデータ入力枠の実装と反映を実施
- コンテキストメニューにパーティクルリスト順番入れ替え機能を追加
- Particle停止時の既存Emit表示の継続対応を実施

#### 不具合修正
- マウスカーソル選択時のハイライトが真っ黒になる現象を修正
- アイテムのスケール調整への対応を実施
- 数値入力ができなくなる問題を修正

### HeliScript

#### 新規関数追加
- 動的UI生成系の関数を追加
- 音量をHeliScriptで％制御できる機能を追加
- Item.PlayVideoと同等のItem.SwitchVideo機能を追加
- CanvasText要素の事前面積計算機能を追加
- コライダー内にアイテムが入った際にHSコールバックを発火する機能を追加
- 全VMのデバッグログ出力機能を追加
- hsCanvasGetGUIText() を追加
- OnChangedPropertyを発火させないItem.SetProperty() を追加
- コールバック非発火版のItem.SetPropertyWithoutNotify() を追加
- ISO8601形式文字列からDate生成機能を追加
- FPS/TPSモード切り替えをシーンファイルとHSで制御可能に
- レンダリング制御機能をHeliScriptで実施可能に
- 自身のエモート実行時にHSコールバックを発火する機能を追加
- FPSが一定以下の場合に自動で低解像度モードへ切替えるオプションを追加

#### 関数調整
- system.Item_CreateClone の戻り値型を変更
- JSからHSのコールバック呼び出し時のエラー表示を詳細化
- LayerBundleとLayerのSetShow()の挙動を統一
- GetComponent処理後、同一VMでの参照カウンタ上げ処理を追加
- floatによる剰余計算時の構文エラーログ出力を修正
- 同名変数定義による警告を解消
- cookieからのbool値取得不具合を修正
- ユーザー操作時のスライダーコールバック未発火問題を修正
- スライダーのRate取得メソッド呼び出しを対応
- 各種ドキュメントの整備（動的複製関数、親アイテム取得、数学機能、DateとTimeSpanの新機能対応）を実施

### クリエイター向け

#### 機能調整
- HEOのアニメーション周り（ヒューマノイド前提実装）のリファクタリングを実施
- VRMエクスポート時、髪やアクセサリーのアニメーション反映不具合を修正
- MotionExport利用時のHEMアニメーション出力におけるキャラクター動作再生の問題を調査

#### ハウジング
- ハウジングのカテゴリを「床」のみに変更（SubType対応）
- 壁掛け家具のY軸回転90度ずれを修正
- invite friend toggleの動作を修正
- F9押下時のクローンリスト非消去問題を解消

#### UI
- 一部GUI画像が2の累乗になっていない問題を修正

#### シェーダーコンパイラ
- シェーダーコンパイラの実装を予定

#### 高速リセット
- 高速リセット機能を追加

#### 実装内部の整理
- TypeScriptのCIにおけるビルド・型エラー確認対応を実施
- ネットワーク処理でのOnNetReceivePosJoin/LeaveをCpp層で呼び出すように変更
- TypeScriptのエラー解消を実施
- allow_multiがfalse時の座標チャンネルleave処理を修正
- アーカイブファイル用の削除コマンドを削除
- アーカイブファイル使用を廃止し、テキストファイルに.oパスをまとめる仕様に変更
- buildスクリプトにdracoヘッダーファイル追加対応を実施
- OpenVRモードでのビルドエラーを修正
- WebGL1使用時のポイントライトシェーダーエラーを修正
- HUDのZ値を負にして常に一番後ろに表示するように変更
- HEOAnimatorのUnityAnimatorコンポーネント自動設定を対応
- 二重管理状態の解消（不要な同期処理を削除）
- ExportMotion時のエラー調査を実施
- GLB配置時のシェーダービルドエラーを修正
- プレイヤー当たり判定の最短距離上書きバグを修正
- テキストテクスチャのETC2圧縮対応（モバイル＆Web限定）を実施
- SDKバージョンアップ対応を実施
- 必要ファイルの自動配置対応を実施
- HPKPackerの書き出し処理を改善
- 入室時のステータス変更機能を追加
- ボイスチャンネル接続不具合を修正

#### AIチャット
- AIチャットのスマホ対応を実施
- AIチャットのテスト実装を実施

#### MyAvatarリファクタ
- プリセットアバター切替時のインゲーム表示崩れを修正
- MyAvatarシーケンスのリファクタリング（CustomState脱却）を実施
- AvatarType設定用の機能を追加
- 圧縮テクスチャサポート状況取得機能を追加

#### SMCN
- SmcnSDKのバージョン更新および分割用設定の追加を実施
